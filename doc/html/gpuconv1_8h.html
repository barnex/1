<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GPU_simulations: gpuconv1.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>gpuconv1.h File Reference</h1><code>#include &quot;<a class="el" href="tensor_8h_source.html">tensor.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="gputil_8h_source.html">gputil.h</a>&quot;</code><br/>
<code>#include &lt;cufft.h&gt;</code><br/>

<p><a href="gpuconv1_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgpuc2cplan.html">gpuc2cplan</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgpuconv1.html">gpuconv1</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpuconv1_8h.html#a6ddfdda7a062d10cff4a72b76b44aeb8">FORWARD</a>&nbsp;&nbsp;&nbsp;CUFFT_FORWARD</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpuconv1_8h.html#ade269cc47cfaba70068f2586e898051d">INVERSE</a>&nbsp;&nbsp;&nbsp;CUFFT_INVERSE</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgpuc2cplan.html">gpuc2cplan</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpuconv1_8h.html#a7f9fff8937542904f3822c36dc968519">new_gpuc2cplan</a> (int <a class="el" href="gpufft2__test_8cpp.html#a1a345a1e634b1d40f23b3333f3696366">N0</a>, int <a class="el" href="gpufft2__test_8cpp.html#a5a6a26e0827f9640d2eb7201017f19d7">N1</a>, int <a class="el" href="gpufft2__test_8cpp.html#adeea8075a0038c985c63d45161804d60">N2</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpuconv1_8h.html#aa6c8d327b2dda097866d1a520ca29845">gpuc2cplan_exec</a> (<a class="el" href="structgpuc2cplan.html">gpuc2cplan</a> *plan, float *data, int direction)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpuconv1_8h.html#a2b2b2adffd7de89165c17057066d018a">delete_gpuc2cplan</a> (<a class="el" href="structgpuc2cplan.html">gpuc2cplan</a> *plan)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgpuconv1.html">gpuconv1</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpuconv1_8h.html#ac4cd0375594d902676a22b2d24b2d69c">new_gpuconv1</a> (int <a class="el" href="gpufft2__test_8cpp.html#a1a345a1e634b1d40f23b3333f3696366">N0</a>, int <a class="el" href="gpufft2__test_8cpp.html#a5a6a26e0827f9640d2eb7201017f19d7">N1</a>, int <a class="el" href="gpufft2__test_8cpp.html#adeea8075a0038c985c63d45161804d60">N2</a>, <a class="el" href="structtensor.html">tensor</a> *kernel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpuconv1_8h.html#a290a0200b1639a156c1767f74bf5b94e">gpuconv1_exec</a> (<a class="el" href="structgpuconv1.html">gpuconv1</a> *plan, float *source, float *dest)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpuconv1_8h.html#a12881e4a6e9084e39d1b212117ee4960">gpuconv1_loadkernel</a> (<a class="el" href="structgpuconv1.html">gpuconv1</a> *plan, <a class="el" href="structtensor.html">tensor</a> *kernel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpuconv1_8h.html#a35f8f2c7387627d4899dbf8f646ee7cd">memcpy_r2c</a> (float *source, float *dest, int nReal)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpuconv1_8h.html#a888720082e0c7d901f0380b4ed4cecf7">gpu_copy_pad_r2c</a> (float *source, float *dest, int <a class="el" href="gpufft2__test_8cpp.html#a1a345a1e634b1d40f23b3333f3696366">N0</a>, int <a class="el" href="gpufft2__test_8cpp.html#a5a6a26e0827f9640d2eb7201017f19d7">N1</a>, int <a class="el" href="gpufft2__test_8cpp.html#adeea8075a0038c985c63d45161804d60">N2</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpuconv1_8h.html#a182cd4b4ca3e28f96c9911593231afbe">gpu_copy_unpad_c2r</a> (float *source, float *dest, int <a class="el" href="gpufft2__test_8cpp.html#a1a345a1e634b1d40f23b3333f3696366">N0</a>, int <a class="el" href="gpufft2__test_8cpp.html#a5a6a26e0827f9640d2eb7201017f19d7">N1</a>, int <a class="el" href="gpufft2__test_8cpp.html#adeea8075a0038c985c63d45161804d60">N2</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gpuconv1_8h.html#a8775b4b22b7f2ec8f85c1e9c3465fa20">gpu_kernel_mul</a> (float *ft_m_i, float *ft_kernel_comp_ij, float *ft_h_comp_j, int nRealNumbers)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This file implements the simplest possible vector convolution plan on the GPU: All FFT's are complex-to-complex, no advantage is taken from the real input data. The zero's in the padded magnetization buffers are not ignored. The zero's in the micromagnetic kernel are not ignored. No care is taken to align CUDA memory access.</p>
<p>The interface is flexible: gpuconv1_exec(m, h) can be called on any magnetization and field array that match the size of the plan. m and h are thus not stored in the plan itself. This is handy for higher order solvers that keep multiple versions of m and h.</p>
<p>When more intelligent implementations are made, this one can serve as a comparison for correctness and performance.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="gpuconv1_8h.html#ac4cd0375594d902676a22b2d24b2d69c">new_gpuconv1</a>, <a class="el" href="gpuconv1_8h.html#a290a0200b1639a156c1767f74bf5b94e">gpuconv1_exec</a></dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Arne Vansteenkiste </dd></dl>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a6ddfdda7a062d10cff4a72b76b44aeb8"></a><!-- doxytag: member="gpuconv1.h::FORWARD" ref="a6ddfdda7a062d10cff4a72b76b44aeb8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FORWARD&nbsp;&nbsp;&nbsp;CUFFT_FORWARD</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Forward FFT direction. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="gpuconv1_8h.html#aa6c8d327b2dda097866d1a520ca29845">gpuc2cplan_exec()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ade269cc47cfaba70068f2586e898051d"></a><!-- doxytag: member="gpuconv1.h::INVERSE" ref="ade269cc47cfaba70068f2586e898051d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INVERSE&nbsp;&nbsp;&nbsp;CUFFT_INVERSE</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Backward FFT direction. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="gpuconv1_8h.html#aa6c8d327b2dda097866d1a520ca29845">gpuc2cplan_exec()</a> </dd></dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a2b2b2adffd7de89165c17057066d018a"></a><!-- doxytag: member="gpuconv1.h::delete_gpuc2cplan" ref="a2b2b2adffd7de89165c17057066d018a" args="(gpuc2cplan *plan)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delete_gpuc2cplan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgpuc2cplan.html">gpuc2cplan</a> *&nbsp;</td>
          <td class="paramname"> <em>plan</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Frees the FFT plan </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>not fully implemented </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>plan</em>&nbsp;</td><td>the plan to be deleted </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a888720082e0c7d901f0380b4ed4cecf7"></a><!-- doxytag: member="gpuconv1.h::gpu_copy_pad_r2c" ref="a888720082e0c7d901f0380b4ed4cecf7" args="(float *source, float *dest, int N0, int N1, int N2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gpu_copy_pad_r2c </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>N0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>N1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>N2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies a field of real numbers into a zero-padded array and in the meanwhile converts them to complex format. Runs on the GPU. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="gpuconv1_8h.html#a182cd4b4ca3e28f96c9911593231afbe">gpu_copy_unpad_c2r</a> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>source</em>&nbsp;</td><td>real input data, length = N0*N1*N2 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dest</em>&nbsp;</td><td>complex data destination, length = 2*N0 * 2*N1 * 2*2*N2 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>N0</em>&nbsp;</td><td>X size of the real data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>N1</em>&nbsp;</td><td>Y size of the real data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>N2</em>&nbsp;</td><td>Z size of the real data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a182cd4b4ca3e28f96c9911593231afbe"></a><!-- doxytag: member="gpuconv1.h::gpu_copy_unpad_c2r" ref="a182cd4b4ca3e28f96c9911593231afbe" args="(float *source, float *dest, int N0, int N1, int N2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gpu_copy_unpad_c2r </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>N0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>N1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>N2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies the "region of interest" from a zero-padded array of complex numbers into a smaller array of real numbers. Drops the imaginary parts on the fly. Runs on the GPU. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="gpuconv1_8h.html#a888720082e0c7d901f0380b4ed4cecf7">gpu_copy_pad_r2c</a> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>source</em>&nbsp;</td><td>complex input data, length = 2*N0 * 2*N1 * 2*2*N2 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dest</em>&nbsp;</td><td>real data destination, length = N0*N1*N2 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>N0</em>&nbsp;</td><td>X size of the real data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>N1</em>&nbsp;</td><td>X size of the real data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>N2</em>&nbsp;</td><td>X size of the real data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8775b4b22b7f2ec8f85c1e9c3465fa20"></a><!-- doxytag: member="gpuconv1.h::gpu_kernel_mul" ref="a8775b4b22b7f2ec8f85c1e9c3465fa20" args="(float *ft_m_i, float *ft_kernel_comp_ij, float *ft_h_comp_j, int nRealNumbers)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gpu_kernel_mul </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>ft_m_i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>ft_kernel_comp_ij</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>ft_h_comp_j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nRealNumbers</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointwise multiplication of arrays of complex numbers. ft_h_comp_j += ft_m_i * ft_kernel_comp_ij. Runs on the GPU. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>make use of symmetry </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>DO NOT store in texture memory! This would be a bit faster on older devices, but actually slower on Fermi cards! </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ft_m_i</em>&nbsp;</td><td>multiplication input 1 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ft_kernel_comp_ij</em>&nbsp;</td><td>multiplication input 2 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ft_h_comp_j</em>&nbsp;</td><td>multiplication result gets added to this array </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nRealNumbers</em>&nbsp;</td><td>the number of floats(!) in each of the arrays, thus twice the number of complex's in them. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa6c8d327b2dda097866d1a520ca29845"></a><!-- doxytag: member="gpuconv1.h::gpuc2cplan_exec" ref="aa6c8d327b2dda097866d1a520ca29845" args="(gpuc2cplan *plan, float *data, int direction)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gpuc2cplan_exec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgpuc2cplan.html">gpuc2cplan</a> *&nbsp;</td>
          <td class="paramname"> <em>plan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>direction</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Executes the 3D complex-to-complex FFT plan in-place. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>plan</em>&nbsp;</td><td>the plan to be executed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>data to be transformed in-place </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>direction</em>&nbsp;</td><td>FORWARD or INVERSE </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a290a0200b1639a156c1767f74bf5b94e"></a><!-- doxytag: member="gpuconv1.h::gpuconv1_exec" ref="a290a0200b1639a156c1767f74bf5b94e" args="(gpuconv1 *plan, float *source, float *dest)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gpuconv1_exec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgpuconv1.html">gpuconv1</a> *&nbsp;</td>
          <td class="paramname"> <em>plan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>dest</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Executes the convolution plan: convolves the source data with the stored kernel and stores the result in the destination pointer. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>: rename: execute </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>plan</em>&nbsp;</td><td>the plan to execute </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>source</em>&nbsp;</td><td>the input vector field (magnetization) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dest</em>&nbsp;</td><td>the destination vector field (magnetic field) to store the result in </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a12881e4a6e9084e39d1b212117ee4960"></a><!-- doxytag: member="gpuconv1.h::gpuconv1_loadkernel" ref="a12881e4a6e9084e39d1b212117ee4960" args="(gpuconv1 *plan, tensor *kernel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gpuconv1_loadkernel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgpuconv1.html">gpuconv1</a> *&nbsp;</td>
          <td class="paramname"> <em>plan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtensor.html">tensor</a> *&nbsp;</td>
          <td class="paramname"> <em>kernel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Loads a kernel. Automatically called during <a class="el" href="gpuconv1_8h.html#ac4cd0375594d902676a22b2d24b2d69c">new_gpuconv1()</a>, but could be used to change the kernel afterwards. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="gpuconv1_8h.html#ac4cd0375594d902676a22b2d24b2d69c">new_gpuconv1</a> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>plan</em>&nbsp;</td><td>plan to load the kernel into </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kernel</em>&nbsp;</td><td>kernel to load (should match the plan size) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a35f8f2c7387627d4899dbf8f646ee7cd"></a><!-- doxytag: member="gpuconv1.h::memcpy_r2c" ref="a35f8f2c7387627d4899dbf8f646ee7cd" args="(float *source, float *dest, int nReal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void memcpy_r2c </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nReal</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies a real array to an array of complex numbers (of twice the size) and interleaves the elements with zero's (imaginary parts). </p>

</div>
</div>
<a class="anchor" id="a7f9fff8937542904f3822c36dc968519"></a><!-- doxytag: member="gpuconv1.h::new_gpuc2cplan" ref="a7f9fff8937542904f3822c36dc968519" args="(int N0, int N1, int N2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgpuc2cplan.html">gpuc2cplan</a>* new_gpuc2cplan </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>N0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>N1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>N2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates a new 3D complex-to-complex FFT plan for the GPU. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>There is a difficulty with real-to-complex FFT's: the last dimension must be made 2 complex numbers larger, but then it does not fit the stride anymore. Extra padding? Out-of-place transform? </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>N0</em>&nbsp;</td><td>size in x-direction </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>N1</em>&nbsp;</td><td>size in y-direction </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>N2</em>&nbsp;</td><td>size in z-direction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac4cd0375594d902676a22b2d24b2d69c"></a><!-- doxytag: member="gpuconv1.h::new_gpuconv1" ref="ac4cd0375594d902676a22b2d24b2d69c" args="(int N0, int N1, int N2, tensor *kernel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgpuconv1.html">gpuconv1</a>* new_gpuconv1 </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>N0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>N1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>N2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtensor.html">tensor</a> *&nbsp;</td>
          <td class="paramname"> <em>kernel</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>New convolution plan. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>N0</em>&nbsp;</td><td>X size of the magnetization vector field </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>N1</em>&nbsp;</td><td>Y size of the magnetization vector field </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>N2</em>&nbsp;</td><td>Z size of the magnetization vector field </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>kernel</em>&nbsp;</td><td>convolution kernel of size 3 x 3 x 2*N0 x 2*N1 x 2*N2 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Tue Jul 6 16:19:19 2010 for GPU_simulations by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
